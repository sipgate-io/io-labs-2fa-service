<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Verify 2FA token</title>
	</head>
	<body>
		<h2>Enter your 2FA token</h2>
		<form action="/verify" method="POST">
			<input type="hidden" value="" id="mail" name="mail" />
			<input type="text" placeholder="2FA token" name="token" />
			<input type="submit" name="submit" />
		</form>
		<p id="errorText"></p>
	</body>
	<script>
		const errorTextElement = document.getElementById('errorText');
		const mailFieldElement = document.getElementById('mail');

		const queryParams = new URLSearchParams(window.location.search);
		const error = queryParams.get('error');
		if (error) {
			errorTextElement.innerText = error;
		}

		const mailAddress = queryParams.get('mail');
		mailFieldElement.setAttribute('value', mailAddress);
	</script>
</html>
